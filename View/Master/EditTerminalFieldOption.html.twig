{% set grid = fsc.getTermianlFields() %}
<div class="card shadow">
    <div class="card-header">
        <h1>Campos</h1>
    </div>
    <div class="card-body">
        <form method="post">
            <input type="hidden" name="action" value="loadUserFields">
            <input type="hidden" name="activetab" value="{{ fsc.getCurrentView().getViewName() }}">
            <div class="row">
                <div class="col">
                    <p>Desde aqu√≠ puedes modificar los campos visibles en el punto de venta</p>
                </div>
                <div class="col-3">
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">
                                <i class="fas fa-users"></i>
                            </span>
                        </div>
                        <select id="nick" name="nick" class="form-control" onchange="this.form.submit()">
                            {% for key,option in {'': i18n.trans('all')} | merge(fsc.getUserList()) %}
                                <option value="{{ key }}"{% if fsc.selectedUser == key %} selected="selected"{% endif %}>
                                    {{ option }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <form method="post" name="fields">
        <input type="hidden" name="action" value="">
        <input type="hidden" name="nick" value="{{ fsc.selectedUser }}"/>
        <table class="table">
            <thead>
            <tr>
                <th>Campo</th>
                <th>Decimales</th>
                <th class="text-center">Solo lectura</th>
                <th class="text-center">Mostrar en carrito</th>
            </tr>
            </thead>
            <tbody>
            {% for column in grid.columns %}
                <tr>
                    <td>
                        <input type="hidden" name="field[{{ column.data }}][type]" value="{{ column.type }}"/>
                        {{ grid.headers[loop.index0] }}</td>
                    <td>
                        {% if column.type == 'number' %}
                            <input type="number" name="field[{{ column.data }}][decimales]" min="0" max="7" step="1"
                                   value="2"
                                   class="form-control">
                        {% endif %}
                    </td>
                    <td class="text-center">
                        <div class="form-check form-check-inline mb-2 mr-sm-2 mb-sm-0">
                            <input class="form-check-input" type="checkbox" name="field[{{ column.data }}][readonly]"
                                   value="1" {% if column.readonly == 'readonly'  %} checked {% endif %}>
                        </div>
                    </td>
                    <td class="text-center">
                        <div class="form-check form-check-inline mb-2 mr-sm-2 mb-sm-0">
                            <input class="form-check-input" type="checkbox" name="field[{{ column.data }}][carrito]"
                                   value="1" {% if column.carrito == 'true'  %} checked {% endif %}>
                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <div class="col">
            <div class="mt-4">
                <button class="btn btn-sm btn-primary" type="submit">
                    <i class="fas fa-save fa-fw" aria-hidden="true"></i> {{ i18n.trans('save') }}
                </button>
            </div>
        </div>
    </form>
</div>
